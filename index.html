<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <title>Conférence - Biome</title>
    <link href="dist/reset.css" rel="stylesheet">
    <link href="dist/reveal.css" rel="stylesheet">
    <link href="dist/theme/black.css" rel="stylesheet">
    <!-- Theme used for syntax highlighted code -->
    <link href="dist/theme/solarized.css" rel="stylesheet">
</head>

<body>
<div class="reveal">
    <div class="slides">
        <!-- 1 -->
        <section class="slide-1" id="slide-1">
            <h2>Biome, votre nouvelle lib js (encore)</h2>
            <aside class="notes">
                <p>étendre écran -> window + p</p>
                <p>plein écran navigateur -> fn + F11</p>
            </aside>
        </section>

        <!-- 2 MOI-->
        <section class="slide-2" id="slide-2">
            <h3>Julien</h3>
            <div class="is-flex align-items-center">
                <div>
                    <p>Tech lead frontend</p>
                    <img class="r-stretch w-50 my-1-n" src="images/slide-2/onepoint.png">
                </div>
                <img class="r-stretch rounded" src="images/slide-2/moi.jpg">
            </div>
        </section>

        <!-- 3 -->
        <section id="slide-3">
            <section>
                <h2>Formatage et analyse de code</h2>
            </section>
            <section>
					<pre class="h-inherit"><code data-line-numbers="0">function OnepointTalk	({
  subject		= "Hello biome!"	,duration		,
  description		,startTalk		,
						}	) {
 if		(duration		<= 1		||		!startTalk	 )	 {
	 return  <p>Pas possible </p>  }

		return (	 <div className="content" onClick={startTalk}>
 <h1>{subject  .toUpperCase ( ) }</h1>
  <strong>Le talk dure {duration }</strong>
		<span>minute{duration > 1 ? "s" : ""	 }</span>
 {Array	.isArray		(description	 )  ?	( <ul>
	 {description .map  ((d , i )	=> ( <li key={i}>{d }</li>  )	)	 }
		</ul>	 )	 :	( <p>{description		}</p>  )	 }
  </div>	) ;	 }
						</code></pre>
                <aside class="notes">
                    <ol>
                        <li>Demande plus effort de lecture</li>
                        <li>ne tiens pas sur l'écran</li>
                        <li>analogie avec WORD</li>
                        <li>>Pour la création du chaos shittier; https://github.com/rohitdhas/shittier</li>
                    </ol>
                </aside>
            </section>
            <section>
                <img class="r-stretch" src="images/slide-3/bob-formatage-biome.jpg">
            </section>
            <section>
					<pre class="h-inherit">
						<code data-line-numbers="0|1-6|11-29">function OnepointTalk({
	subject = "Hello biome!",
	duration,
	description,
	startTalk,
}) {
	if (duration <= 1 || !startTalk) {
		return <p>Pas possible</p>;
	}

	return (
		<div className="content" onClick={startTalk}>
			<h1>{subject.toUpperCase()}</h1>
			<strong>Le talk dure {duration}</strong>
			<span>minute{duration > 1 ? "s" : ""}</span>
			{Array.isArray(description) ? (
				<ul>
					{description.map((d, i) => (
						<li key={i}>{d}</li>
					))}
				</ul>
			) : (
				<p>{description}</p>
			)}
		</div>
	);
}
						</code>
					</pre>
                <aside class="notes">
                    <ol>
                        <li>Plus claire au premier coup d'oeil</li>
                        <li>Pas besoin coloration synthaxial</li>
                        <li>Meilleur lecture et moins fastidieux des PR</li>
                    </ol>
                </aside>
            </section>
            <section>
                <h2>Analyse statique / Linter</h2>
                <aside class="notes">
                    <ol>
                        <li>
                            Examiner du code sans l'exécuter, détecter les
                            erreurs potentielles et problèmes de qualité.
                        </li>
                    </ol>
                </aside>
            </section>
            <section>
                <div>
                    <img class="r-stretch" src="images/slide-3/linter-error.png">
                    <aside class="notes">
                        <ol>
                            <li>égalité faible -> égalité stricte</li>
                            <li>analogie avec word</li>
                        </ol>
                    </aside>
                </diV>
            </section>
            <section>
                <h2>Les outils</h2>
                <div class="is-flex justify-content-space-evenly">
                    <figure>
                        <img class="r-stretch size-1" src="icones/chrome.svg">
                        <figcaption>Internet</figcaption>
                    </figure>
                    <figure class="fragment">
                        <img class="r-stretch size-1" src="icones/vsc.svg">
                        <figcaption>IDE</figcaption>
                    </figure>
                    <figure class="fragment">
                        <img class="r-stretch size-1" src="icones/npm.svg">
                        <figcaption>Librairies</figcaption>
                    </figure>
                </div>
                <aside class="notes">
                    <ol>
                        <li>
                            Il existe des outils de formatage et d'analyse un peu partout
                        </li>
                        <li>
                            LIBRAIRIE : Configuration partagé | CI/CD bloquante | branche à IDE | librairies en plus
                            | CLI
                        </li>
                    </ol>
                </aside>
            </section>
        </section>

        <!-- 4 -->
        <section id="slide-4">
            <section data-transition="zoom">
                <img class="r-stretch bk-color-black p-2 w-95" src="images/slide-4/logo-biome.svg">

                <aside class="notes">
                    <p>Pourquoi BIOME</p>
                    <p>Prettier est le plus utilisé mais pb de perf</p>
                    <p>open source</p>
                    <p>combine formateur et analyse code static</p>
                    <p>Message plus claire</p>
                    <p>Prise en main rapide, car peu de conf de base</p>
                    <p>Accessibilité a11y</p>
                </aside>
            </section>
            <section data-background="images/slide-4/bg-prettier-defi.png" data-background-transition="zoom">
                <aside class="notes">
                    <ol>
                        <li>un peu d'histoire</li>
                        <li>Initier par un des fondateur de prettier</li>
                        <li>fin année 2023</li>
                    </ol>
                </aside>
            </section>
            <section>
                <div class="is-flex justify-content-space-evenly">
                    <figure>
                        <img class="r-stretch size-2" src="icones/rust.svg">
                        <figcaption>Rust</figcaption>
                    </figure>
                    <figure class="fragment">
                        <img class="r-stretch size-1" src="images//slide-3/prettier-95.png">
                        <figcaption>> 95%</figcaption>
                    </figure>
                    <figure class="fragment">
                        <img class="r-stretch size-1" src="icones/option.svg">
                        <figcaption>Formatage</figcaption>
                    </figure>
                    <figure class="fragment">
                        <img class="r-stretch size-1" src="icones/javascript.svg">
                        <figcaption>ES6</figcaption>
                    </figure>
                    <aside class="notes">
                        <ol>
                            <li>En rust, prettier en js</li>
                            <li>réputé pour sa rapidité et son efficacité et présente des avantages en termes de
                                performances
                            </li>
                            <li>+95% compatibilité tests JavaScript de prettier</li>
                            <li>Toutes les options de formatage</li>
                            <li>seule la syntaxe ecmascript est requise</li>
                            <li>but gagner en rapidité</li>
                            <code class="t-font-size-3">git --no-pager diff --shortstat main</code>
                        </ol>
                    </aside>
                </div>
            </section>

            <section>
                <h2>Rapide ?</h2>
                <figure>
                    <img class="r-stretch" src="images/slide-4/performance.png">
                    <figcaption>171 127 lignes, 2 104 fichiers</figcaption>
                </figure>
            </section>
            <section>
                <h2>J'ai testé</h2>
                <pre class="h-inherit">
						<code data-line-numbers="all|5|16-17|19">// JavaScript
const { exec } = require("child_process");
const execCommand = (cmd, callback) => {
	console.log("Start test");
	console.time("Timer");
	exec(cmd, (error) => {
		if (error) {
			console.error(`exec error: ${error}`);
			console.timeLog("Timer");
			return;
		}
		callback();
	});
};
execCommand(
	'npx prettier . --write --log-level=silent',
	'npx @biomejs/biome format . --write --log-level=none',
	() => {
		console.timeLog("Timer");
	},
);
						</code>
					</pre>
            </section>

            <section>
                <h3>Projet actuel</h3>
                <div class="is-flex justify-content-space-evenly">
                    <figure class="is-flex align-items-center">
                        <img class="r-stretch size-1" src="images/prettier.png">
                        <figcaption>10,858s</figcaption>
                    </figure>
                    <figure class="fragment is-flex align-items-center">
                        <img class="r-stretch size-1" src="icones/biome.svg">
                        <figcaption>2,311s</figcaption>
                    </figure>
                </div>
                <aside class="notes">
                    <ol>
                        <li>~420 fichiers</li>
                        <li>3 x</li>
                    </ol>
                </aside>
            </section>
            <section>
                <h2>En utilisant les outils de benchmark de biome</h2>
                <pre>
                    <code>hyperfine --show-output --ignore-failure --runs 10 --export-markdown benchmark.md
-n Prettier "npx prettier ./**/*.{js,ts} --write --log-level=error"
-n Biome "npx @biomejs/biome format . --write  --max-diagnostics=0  --log-level=error"
</code>
                </pre>
                <code class="t-font-size-3"></code>
            </section>
            <section>
                <h2>NodeJS</h2>
                <table>
                    <thead>
                    <tr>
                        <th class="border-bottom-separator" scope="col"></th>
                        <th class="border-bottom-separator" scope="col">Biome</th>
                        <th class="border-bottom-separator" scope="col">Prettier</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">Fichiers modifiés</th>
                        <td>14_516</td>
                        <td>14_127</td>
                    </tr>
                    <tr>
                        <th scope="row">Insertions(+)</th>
                        <td>1_198_125</td>
                        <td>1_824_350</td>
                    </tr>
                    <tr>
                        <th class="border-bottom-separator" scope="row">Suppressions(-)</th>
                        <td class="border-bottom-separator">620_973</td>
                        <td class="border-bottom-separator">857_413</td>
                    </tr>
                    <tr>
                        <th scope="row">Moy [s]</th>
                        <td>11.508</td>
                        <td>147.050</td>
                    </tr>
                    <tr>
                        <th scope="row">Min [s]</th>
                        <td>11.034</td>
                        <td>131.901</td>
                    </tr>
                    <tr>
                        <th scope="row">Max [s]</th>
                        <td>11.982</td>
                        <td>162.199</td>
                    </tr>
                    <tr class="fragment">
                        <th scope="row">Relative</th>
                        <td>1.00</td>
                        <td>12.78</td>
                    </tr>
                    </tbody>
                </table>

                <h3 class="fragment">Biome est 12.78 fois plus rapide que Prettier</h3>
                <aside class="notes">
                    <ol>
                        <li>million (1 000 000)</li>
                        <li>Bur sur prettier avec double quotes</li>
                        <li>max-diagnostics=0 Biome imprime uniquement le nombre de diagnostics, ESLint imprime une
                            ligne pour chaque erreur
                        </li>
                    </ol>
                </aside>
            </section>
            <section>
                <h2>Démo</h2>
                <pre>
                    <code data-line-numbers="1|2|3|4|5|6|7">npm install -g --save-dev --save-exact @biomejs/biome
biome init --jsonc
biome migrate eslint --write // avoir un fichier biome.jsonc
biome migrate prettier --write
biome format --write .
biome lint --apply .
biome check --apply .
biome check --apply-unsafe .
                    </code>
                </pre>
            </section>
        </section>
        <section>
            <section>
                <h2> Feuille de route</h2>
            </section>
            <section>
                <table class="language-support">
                    <thead>
                    <tr>
                        <th>Langue</th>
                        <th>Analyse syntaxique</th>
                        <th>Formatage</th>
                        <th>Analyse statique</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Javascript</td>
                        <td>✅</td>
                        <td>✅</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td>TypeScript</td>
                        <td>✅</td>
                        <td>✅</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td>JSX</td>
                        <td>✅</td>
                        <td>✅</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td>TSX</td>
                        <td>✅</td>
                        <td>✅</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td>JSON</td>
                        <td>✅</td>
                        <td>✅</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td>JSONC</td>
                        <td>✅</td>
                        <td>✅</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td>HTML</td>
                        <td>⌛️</td>
                        <td>🚫</td>
                        <td>🚫</td>
                    </tr>
                    <tr>
                        <td>Vue</td>
                        <td>⚠️</td>
                        <td>⚠️</td>
                        <td>⚠️</td>
                    </tr>
                    <tr>
                        <td>Svelte</td>
                        <td>⚠️</td>
                        <td>⚠️</td>
                        <td>⚠️</td>
                    </tr>
                    <tr>
                        <td>Astro</td>
                        <td>⚠️</td>
                        <td>⚠️</td>
                        <td>⚠️</td>
                    </tr>
                    <tr>
                        <td>CSS</td>
                        <td>✅️</td>
                        <td>⌛️</td>
                        <td>⌛️</td>
                    </tr>
                    <tr>
                        <td>YAML</td>
                        <td>⌛️</td>
                        <td>🚫</td>
                        <td>🚫</td>
                    </tr>
                    <tr>
                        <td>GraphQL</td>
                        <td>⌛️</td>
                        <td>🚫</td>
                        <td>🚫</td>
                    </tr>
                    <tr>
                        <td>Markdown</td>
                        <td>🚫</td>
                        <td>🚫</td>
                        <td>🚫</td>
                    </tr>
                    </tbody>
                    <caption>
                        ✅: OK
                        🚫: Pas démarré
                        ⌛️: En cours
                        ⚠️: Partiellement
                    </caption>
                </table>
                <aside class="notes">
                    <ol>
                        <li>partielle des fichiers Astro, Svelte et Vue</li>
                        <li>Des nouveaux languages comme GraphQL YAML</li>
                    </ol>
                </aside>
            </section>
            <section>
                <div class="is-flex justify-content-space-evenly">
                    <div class="is-flex justify-content-center direction-column align-items-center size-1">
                        <img src="icones/css.svg">
                        <img src="icones/javascript.svg">
                    </div>
                    <img class="size-1" src="icones/double-fleche.svg">
                    <div class="is-flex justify-content-center direction-column align-items-center size-1">
                        <img src="icones/html.svg">
                        <img src="icones/npm.svg">
                    </div>
                </div>
                <aside class="notes">
                    <ol>
                        <li>"cross-linting"</li>
                        <li>Analyse croisée entre languages</li>
                        <li>class css non utilisée dans du html</li>
                        <li>détecter les dépendances pas utilisées dans un projet</li>
                    </ol>
                </aside>
            </section>
        </section>


        <!-- 5 -->
        <section id="slide-5">
            <section>
                <h2>Conclusion</h2>
                <p>Dernière <a href="https://biomejs.dev/blog/biome-v1-7/">version v1.7</a> sortie le 15 avril 2024
                </p>
                <aside class="notes">
                    <ol>
                        <li>Nouveau projet oui</li>
                        <li>Manque des languages</li>
                        <li>Prometteur, murisse</li>
                        <li>Open source</li>
                    </ol>
                </aside>
            </section>
            <section data-transition="zoom">
                <h2>Merci à vous</h2>
                <aside class="notes">
                    <ol>
                        <li>3 versions mineurs cette année</li>
                        <li>merci à ceux qui m'ont aidée</li>
                    </ol>
                </aside>
            </section>
        </section>
    </div>
</div>

<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,
        transition: 'fade',
        transitionSpeed: 'slow',
        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
    });
</script>
</body>

</html>